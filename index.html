<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
  <h1>LINE 使用者資訊</h1>
  <p>名稱: <span id="userName"></span></p>
  <p>ID: <span id="userId"></span></p>

  <script>
    function initializeLIFF() {
      liff.init({ liffId: '1656516134-VaGgmaPm' })
        .then(() => {
          if (!liff.isLoggedIn()) {
            liff.login();
          } else {
            liff.getProfile()
              .then(profile => {
                document.getElementById('userName').textContent = profile.displayName;
                document.getElementById('userId').textContent = profile.userId;
              })
              .catch(err => {
                console.log('error getting profile:', err);
              });
          }
        })
        .catch(err => {
          console.log('error initializing LIFF:', err);
        });
    }

    initializeLIFF();
  </script>
</body>
</html>
